<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <title>Cartographie</title>
    <link rel="stylesheet" href="../css/style.css" />
    <link rel="icon" href="../../assets/img/favicon.ico" type="image/x-icon">
    <!-- âœ… Scripts D3.js et TopoJSON -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://d3js.org/topojson.v3.min.js"></script>
</head>

<body>

    <nav>
        <a href="../../index.html">Home</a>
        <a href="map.html" class="active">Cartographie</a>
        <a href="pie-charts.html">Pie charts</a>
        <a href="time-series.html">Metrics</a>
        <a href="clustering.html">Clustering</a>
        <a href="data-sources.html">About data</a>
    </nav>

    <main>
        <section>

            <!-- SÃ©lecteur de dataset -->
            <div id="dataset-selector" style="text-align: center; margin: 20px 0; padding: 20px;">
                <h3 style="margin: 0 0 15px 0;">SÃ©lectionnez le dataset</h3>
                <div style="display: flex; justify-content: center; gap: 20px;">
                    <label style="cursor: pointer; padding: 30px 50px;">
                        <input type="radio" name="dataset" value="top50" checked>
                        Top 50 des musiques dans 71 pays </br> (2023-2025)
                    </label>
                    <label style="cursor: pointer; padding: 30px 50px;">
                        <input type="radio" name="dataset" value="bestsongs">
                        Top 50 song in the world per year </br> (2000-2023)
                    </label>
                </div>
            </div>

            <!-- Curseur d'annÃ©e (dynamique) -->
            <div id="year-selector" style="text-align: center; margin: 20px 0;">
                <h3 style="margin: 0 0 15px 0;">SÃ©lectionnez l'annÃ©e</h3>
                <div style="display: flex; align-items: center; justify-content: center; gap: 20px;">
                    <span id="yearMin" style="font-size: 16px; color: #666;">2023</span>
                    <input type="range" id="yearSlider" min="2023" max="2025" value="2025" step="1"
                        style="width: 400px;">
                    <span id="yearMax" style="font-size: 16px; color: #666;">2025</span>
                    <span id="yearDisplay"
                        style="font-size: 24px; font-weight: bold; color: #A238FF; min-width: 80px; text-align: center;">2025</span>
                </div>
            </div>

            <!-- Carte -->
            <div id="map"></div>

            <!-- Conteneur du Top 50 -->
            <div id="top50-container"
                style="display: none; margin-top: 30px; background: white; padding: 30px; border-radius: 12px;">
                <h2 id="top50-title" style="margin: 0; color: #A238FF;">
                    Top 50 - <span id="country-name"></span>
                </h2>
                <button id="close-top50"
                    style="float: right; margin-top: -40px; background: #ff4757; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">
                    âœ– Fermer
                </button>

                <!-- Lecteur Spotify -->
                <div id="spotify-player-container"
                    style="margin-top: 20px; padding: 20px; background: #f0f0f0; border-radius: 8px; text-align: center;">
                    <p id="player-status" style="margin: 0 0 10px 0; color: #666;">
                        SÃ©lectionnez une chanson pour l'Ã©couter ðŸŽµ
                    </p>
                    <div id="spotify-player"></div>
                </div>

                <!-- Tableau des chansons -->
                <div id="top50-table"></div>
            </div>

        </section>
    </main>

    <!-- Tooltip -->
    <div id="tooltip"></div>

    <!-- âœ… Scripts - DANS LE BON ORDRE -->
    <script src="../../data/countriesMapping.js"></script>
    <script src="../scripts/map.js"></script>

</body>

</html>