// Mapping complet des 71 pays de votre dataset Spotify
// ID Num√©rique (pour TopoJSON) ‚Üî Code Alpha-2 (dans votre CSV) ‚Üî Nom du pays

const countriesData = [
    { id: 4, alpha2: "AF", name: "Afghanistan" },
    { id: 8, alpha2: "AL", name: "Albanie" },
    { id: 12, alpha2: "DZ", name: "Alg√©rie" },
    { id: 20, alpha2: "AD", name: "Andorre" },
    { id: 24, alpha2: "AO", name: "Angola" },
    { id: 28, alpha2: "AG", name: "Antigua-et-Barbuda" },
    { id: 31, alpha2: "AZ", name: "Azerba√Ødjan" },
    { id: 32, alpha2: "AR", name: "Argentine" },
    { id: 36, alpha2: "AU", name: "Australie" },
    { id: 40, alpha2: "AT", name: "Autriche" },
    { id: 44, alpha2: "BS", name: "Bahamas" },
    { id: 48, alpha2: "BH", name: "Bahre√Øn" },
    { id: 50, alpha2: "BD", name: "Bangladesh" },
    { id: 51, alpha2: "AM", name: "Arm√©nie" },
    { id: 52, alpha2: "BB", name: "Barbade" },
    { id: 56, alpha2: "BE", name: "Belgique" },
    { id: 60, alpha2: "BM", name: "Bermudes" },
    { id: 64, alpha2: "BT", name: "Bhoutan" },
    { id: 68, alpha2: "BO", name: "Bolivie" },
    { id: 70, alpha2: "BA", name: "Bosnie-Herz√©govine" },
    { id: 72, alpha2: "BW", name: "Botswana" },
    { id: 76, alpha2: "BR", name: "Br√©sil" },
    { id: 84, alpha2: "BZ", name: "Belize" },
    { id: 90, alpha2: "SB", name: "√éles Salomon" },
    { id: 96, alpha2: "BN", name: "Brunei" },
    { id: 100, alpha2: "BG", name: "Bulgarie" },
    { id: 104, alpha2: "MM", name: "Myanmar" },
    { id: 108, alpha2: "BI", name: "Burundi" },
    { id: 112, alpha2: "BY", name: "Bi√©lorussie" },
    { id: 116, alpha2: "KH", name: "Cambodge" },
    { id: 120, alpha2: "CM", name: "Cameroun" },
    { id: 124, alpha2: "CA", name: "Canada" },
    { id: 132, alpha2: "CV", name: "Cap-Vert" },
    { id: 140, alpha2: "CF", name: "R√©publique centrafricaine" },
    { id: 144, alpha2: "LK", name: "Sri Lanka" },
    { id: 148, alpha2: "TD", name: "Tchad" },
    { id: 152, alpha2: "CL", name: "Chili" },
    { id: 156, alpha2: "CN", name: "Chine" },
    { id: 158, alpha2: "TW", name: "Ta√Øwan" },
    { id: 170, alpha2: "CO", name: "Colombie" },
    { id: 174, alpha2: "KM", name: "Comores" },
    { id: 178, alpha2: "CG", name: "R√©publique du Congo" },
    { id: 180, alpha2: "CD", name: "R√©publique d√©mocratique du Congo" },
    { id: 188, alpha2: "CR", name: "Costa Rica" },
    { id: 191, alpha2: "HR", name: "Croatie" },
    { id: 192, alpha2: "CU", name: "Cuba" },
    { id: 196, alpha2: "CY", name: "Chypre" },
    { id: 203, alpha2: "CZ", name: "Tch√©quie" },
    { id: 204, alpha2: "BJ", name: "B√©nin" },
    { id: 208, alpha2: "DK", name: "Danemark" },
    { id: 212, alpha2: "DM", name: "Dominique" },
    { id: 214, alpha2: "DO", name: "R√©publique dominicaine" },
    { id: 218, alpha2: "EC", name: "√âquateur" },
    { id: 222, alpha2: "SV", name: "Salvador" },
    { id: 226, alpha2: "GQ", name: "Guin√©e √©quatoriale" },
    { id: 231, alpha2: "ET", name: "√âthiopie" },
    { id: 232, alpha2: "ER", name: "√ârythr√©e" },
    { id: 233, alpha2: "EE", name: "Estonie" },
    { id: 242, alpha2: "FJ", name: "Fidji" },
    { id: 246, alpha2: "FI", name: "Finlande" },
    { id: 250, alpha2: "FR", name: "France" },
    { id: 266, alpha2: "GA", name: "Gabon" },
    { id: 268, alpha2: "GE", name: "G√©orgie" },
    { id: 270, alpha2: "GM", name: "Gambie" },
    { id: 275, alpha2: "PS", name: "Palestine" },
    { id: 276, alpha2: "DE", name: "Allemagne" },
    { id: 288, alpha2: "GH", name: "Ghana" },
    { id: 296, alpha2: "KI", name: "Kiribati" },
    { id: 300, alpha2: "GR", name: "Gr√®ce" },
    { id: 308, alpha2: "GD", name: "Grenade" },
    { id: 320, alpha2: "GT", name: "Guatemala" },
    { id: 324, alpha2: "GN", name: "Guin√©e" },
    { id: 328, alpha2: "GY", name: "Guyana" },
    { id: 332, alpha2: "HT", name: "Ha√Øti" },
    { id: 340, alpha2: "HN", name: "Honduras" },
    { id: 344, alpha2: "HK", name: "Hong Kong" },
    { id: 348, alpha2: "HU", name: "Hongrie" },
    { id: 352, alpha2: "IS", name: "Islande" },
    { id: 356, alpha2: "IN", name: "Inde" },
    { id: 360, alpha2: "ID", name: "Indon√©sie" },
    { id: 364, alpha2: "IR", name: "Iran" },
    { id: 368, alpha2: "IQ", name: "Irak" },
    { id: 372, alpha2: "IE", name: "Irlande" },
    { id: 376, alpha2: "IL", name: "Isra√´l" },
    { id: 380, alpha2: "IT", name: "Italie" },
    { id: 384, alpha2: "CI", name: "C√¥te d'Ivoire" },
    { id: 388, alpha2: "JM", name: "Jama√Øque" },
    { id: 392, alpha2: "JP", name: "Japon" },
    { id: 398, alpha2: "KZ", name: "Kazakhstan" },
    { id: 400, alpha2: "JO", name: "Jordanie" },
    { id: 404, alpha2: "KE", name: "Kenya" },
    { id: 408, alpha2: "KP", name: "Cor√©e du Nord" },
    { id: 410, alpha2: "KR", name: "Cor√©e du Sud" },
    { id: 414, alpha2: "KW", name: "Kowe√Øt" },
    { id: 417, alpha2: "KG", name: "Kirghizistan" },
    { id: 418, alpha2: "LA", name: "Laos" },
    { id: 422, alpha2: "LB", name: "Liban" },
    { id: 426, alpha2: "LS", name: "Lesotho" },
    { id: 428, alpha2: "LV", name: "Lettonie" },
    { id: 430, alpha2: "LR", name: "Liberia" },
    { id: 434, alpha2: "LY", name: "Libye" },
    { id: 438, alpha2: "LI", name: "Liechtenstein" },
    { id: 440, alpha2: "LT", name: "Lituanie" },
    { id: 442, alpha2: "LU", name: "Luxembourg" },
    { id: 450, alpha2: "MG", name: "Madagascar" },
    { id: 454, alpha2: "MW", name: "Malawi" },
    { id: 458, alpha2: "MY", name: "Malaisie" },
    { id: 462, alpha2: "MV", name: "Maldives" },
    { id: 466, alpha2: "ML", name: "Mali" },
    { id: 470, alpha2: "MT", name: "Malte" },
    { id: 478, alpha2: "MR", name: "Mauritanie" },
    { id: 480, alpha2: "MU", name: "Maurice" },
    { id: 484, alpha2: "MX", name: "Mexique" },
    { id: 492, alpha2: "MC", name: "Monaco" },
    { id: 496, alpha2: "MN", name: "Mongolie" },
    { id: 498, alpha2: "MD", name: "Moldavie" },
    { id: 499, alpha2: "ME", name: "Mont√©n√©gro" },
    { id: 504, alpha2: "MA", name: "Maroc" },
    { id: 508, alpha2: "MZ", name: "Mozambique" },
    { id: 512, alpha2: "OM", name: "Oman" },
    { id: 516, alpha2: "NA", name: "Namibie" },
    { id: 520, alpha2: "NR", name: "Nauru" },
    { id: 524, alpha2: "NP", name: "N√©pal" },
    { id: 528, alpha2: "NL", name: "Pays-Bas" },
    { id: 548, alpha2: "VU", name: "Vanuatu" },
    { id: 554, alpha2: "NZ", name: "Nouvelle-Z√©lande" },
    { id: 558, alpha2: "NI", name: "Nicaragua" },
    { id: 562, alpha2: "NE", name: "Niger" },
    { id: 566, alpha2: "NG", name: "Nigeria" },
    { id: 578, alpha2: "NO", name: "Norv√®ge" },
    { id: 583, alpha2: "FM", name: "Micron√©sie" },
    { id: 584, alpha2: "MH", name: "√éles Marshall" },
    { id: 585, alpha2: "PW", name: "Palaos" },
    { id: 586, alpha2: "PK", name: "Pakistan" },
    { id: 591, alpha2: "PA", name: "Panama" },
    { id: 598, alpha2: "PG", name: "Papouasie-Nouvelle-Guin√©e" },
    { id: 600, alpha2: "PY", name: "Paraguay" },
    { id: 604, alpha2: "PE", name: "P√©rou" },
    { id: 608, alpha2: "PH", name: "Philippines" },
    { id: 616, alpha2: "PL", name: "Pologne" },
    { id: 620, alpha2: "PT", name: "Portugal" },
    { id: 624, alpha2: "GW", name: "Guin√©e-Bissau" },
    { id: 626, alpha2: "TL", name: "Timor oriental" },
    { id: 630, alpha2: "PR", name: "Porto Rico" },
    { id: 634, alpha2: "QA", name: "Qatar" },
    { id: 642, alpha2: "RO", name: "Roumanie" },
    { id: 643, alpha2: "RU", name: "Russie" },
    { id: 646, alpha2: "RW", name: "Rwanda" },
    { id: 678, alpha2: "ST", name: "S√£o Tom√©-et-Principe" },
    { id: 682, alpha2: "SA", name: "Arabie saoudite" },
    { id: 686, alpha2: "SN", name: "S√©n√©gal" },
    { id: 688, alpha2: "RS", name: "Serbie" },
    { id: 690, alpha2: "SC", name: "Seychelles" },
    { id: 694, alpha2: "SL", name: "Sierra Leone" },
    { id: 702, alpha2: "SG", name: "Singapour" },
    { id: 703, alpha2: "SK", name: "Slovaquie" },
    { id: 704, alpha2: "VN", name: "Vietnam" },
    { id: 705, alpha2: "SI", name: "Slov√©nie" },
    { id: 706, alpha2: "SO", name: "Somalie" },
    { id: 710, alpha2: "ZA", name: "Afrique du Sud" },
    { id: 716, alpha2: "ZW", name: "Zimbabwe" },
    { id: 724, alpha2: "ES", name: "Espagne" },
    { id: 728, alpha2: "SS", name: "Soudan du Sud" },
    { id: 729, alpha2: "SD", name: "Soudan" },
    { id: 732, alpha2: "EH", name: "Sahara occidental" },
    { id: 740, alpha2: "SR", name: "Suriname" },
    { id: 748, alpha2: "SZ", name: "Eswatini" },
    { id: 752, alpha2: "SE", name: "Su√®de" },
    { id: 756, alpha2: "CH", name: "Suisse" },
    { id: 760, alpha2: "SY", name: "Syrie" },
    { id: 762, alpha2: "TJ", name: "Tadjikistan" },
    { id: 764, alpha2: "TH", name: "Tha√Ølande" },
    { id: 768, alpha2: "TG", name: "Togo" },
    { id: 776, alpha2: "TO", name: "Tonga" },
    { id: 780, alpha2: "TT", name: "Trinit√©-et-Tobago" },
    { id: 784, alpha2: "AE", name: "√âmirats arabes unis" },
    { id: 788, alpha2: "TN", name: "Tunisie" },
    { id: 792, alpha2: "TR", name: "Turquie" },
    { id: 795, alpha2: "TM", name: "Turkm√©nistan" },
    { id: 800, alpha2: "UG", name: "Ouganda" },
    { id: 804, alpha2: "UA", name: "Ukraine" },
    { id: 807, alpha2: "MK", name: "Mac√©doine du Nord" },
    { id: 818, alpha2: "EG", name: "√âgypte" },
    { id: 826, alpha2: "GB", name: "Royaume-Uni" },
    { id: 831, alpha2: "GG", name: "Guernesey" },
    { id: 832, alpha2: "JE", name: "Jersey" },
    { id: 834, alpha2: "TZ", name: "Tanzanie" },
    { id: 840, alpha2: "US", name: "√âtats-Unis" },
    { id: 854, alpha2: "BF", name: "Burkina Faso" },
    { id: 858, alpha2: "UY", name: "Uruguay" },
    { id: 860, alpha2: "UZ", name: "Ouzb√©kistan" },
    { id: 862, alpha2: "VE", name: "Venezuela" },
    { id: 876, alpha2: "WF", name: "Wallis-et-Futuna" },
    { id: 882, alpha2: "WS", name: "Samoa" },
    { id: 887, alpha2: "YE", name: "Y√©men" },
    { id: 894, alpha2: "ZM", name: "Zambie" },
    { id: 238, alpha2: "FK", name: "√éles Malouines"},
    { id: 10, alpha2: "AQ", name: "Antarctique" },
    { id: 260, alpha2: "TF", name: "Terres australes et antarctiques fran√ßaises" },
    { id: 304, alpha2: "GL", name: "Groenland" },
    { id: 262, alpha2: "DJ", name: "Djibouti" },
    { id: 540, alpha2: "NC", name: "Nouvelle-Cal√©donie"}
];

// Cr√©er des Maps pour un acc√®s rapide
// Map 1: ID num√©rique ‚Üí Donn√©es compl√®tes
const countryById = new Map(countriesData.map(c => [c.id, c]));

// Map 2: Code Alpha-2 ‚Üí Donn√©es compl√®tes
const countryByAlpha2 = new Map(countriesData.map(c => [c.alpha2, c]));

// Map 3: Code Alpha-2 ‚Üí ID num√©rique (pour lier CSV avec TopoJSON)
const alpha2ToId = new Map(countriesData.map(c => [c.alpha2, c.id]));

// Map 4: ID num√©rique ‚Üí Code Alpha-2
const idToAlpha2 = new Map(countriesData.map(c => [c.id, c.alpha2]));

// Fonctions utilitaires
function getCountryNameById(id) {
    const numericId = Number(id);
    const country = countryById.get(numericId);
    return country ? country.name : `Pays inconnu (ID: ${id})`;
}

function getCountryNameByAlpha2(alpha2) {
    const country = countryByAlpha2.get(alpha2);
    return country ? country.name : `Pays inconnu (${alpha2})`;
}

function getCountryIdByAlpha2(alpha2) {
    return alpha2ToId.get(alpha2);
}

function getCountryAlpha2ById(id) {
    const numericId = Number(id);  // ‚úÖ AJOUT√â
    return idToAlpha2.get(numericId);
}

// // V√©rification
// console.log("üåç Mapping de", countriesData.length, "pays charg√©");
// console.log("Exemple: FR ‚Üí", getCountryNameByAlpha2("FR"));
// console.log("Exemple: 250 ‚Üí", getCountryNameById(250));
// console.log("Exemple: FR ‚Üí ID", getCountryIdByAlpha2("FR"));